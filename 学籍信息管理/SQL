CREATE DATABASE STUDENTINFO
CHARACTER SET 'utf8'
COLLATE 'utf8_general_ci';
USE STUDENTINFO;
CREATE TABLE LEVEL (
	ID			INT(2) unsigned zerofill AUTO_INCREMENT PRIMARY KEY,
	YEAR		INT
)ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE COLLEGE (
	ID			INT(2) unsigned zerofill AUTO_INCREMENT PRIMARY KEY,
	_LEVEL		INT(2) unsigned zerofill,
	NAME		TEXT,
	FOREIGN		KEY(_LEVEL) REFERENCES LEVEL(ID)
)ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE MAJOR (
	ID			INT(2) unsigned zerofill AUTO_INCREMENT PRIMARY KEY,
	_COLLEGE	INT(2) unsigned zerofill,
	NAME		TEXT,
	FOREIGN		KEY(_COLLEGE) REFERENCES COLLEGE(ID)
)ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE CLASS (
	ID			INT(2) unsigned zerofill AUTO_INCREMENT PRIMARY KEY,
	_MAJOR		INT(2) unsigned zerofill,
	SUM			INT(2) unsigned zerofill,
	FOREIGN		KEY(_MAJOR) REFERENCES MAJOR(ID)
)ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE STUDENT (
	ID			TEXT,
	_CLASS		INT(2) unsigned zerofill,
	NAME		TEXT,
	BIRTH		DATETIME,
	SEX			TEXT,
	ADDRESS		TEXT,
	HIGH		INT,
	FOREIGN		KEY(_CLASS) REFERENCES CLASS(ID)
)ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE LOGIN (
	ID			INT AUTO_INCREMENT PRIMARY KEY,
	USERNAME	TEXT,
	PASSWORD	TEXT
)ENGINE=InnoDB DEFAULT CHARSET=utf8;
INSERT INTO LEVEL VALUES (NULL,2013);
INSERT INTO COLLEGE VALUES (NULL,1,'Computer');
INSERT INTO MAJOR VALUES (NULL,1,'Computer Sintist');
INSERT INTO CLASS VALUES (NULL,1,0);
INSERT INTO LOGIN VALUES (NULL,'TT','a132132');
INSERT INTO STUDENT VALUES (13010101,01,'TT','1995-11-15','M','SCHOOL',170);
CREATE VIEW VIEW_CY AS SELECT COLLEGE.ID,COLLEGE.NAME,LEVEL.ID AS LEVELID,LEVEL.YEAR FROM COLLEGE JOIN LEVEL ON COLLEGE._LEVEL = LEVEL.ID
CREATE VIEW VIEW_MC AS SELECT MAJOR.ID,MAJOR.NAME,COLLEGE.ID AS COLLEGEID,COLLEGE.NAME AS COLLEGENAME FROM MAJOR JOIN COLLEGE ON MAJOR._COLLEGE = COLLEGE.ID
CREATE VIEW VIEW_CM AS SELECT CLASS.ID,CLASS.NUM,MAJOR.ID AS MAJORID,MAJOR.NAME FROM CLASS JOIN MAJOR ON CLASS._MAJOR = MAJOR.ID
SELECT _CLASS,SEX,COUNT(*) FROM STUDENT GROUP BY _CLASS,SEX 